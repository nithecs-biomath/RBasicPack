# .github/workflows/run-readme-examples.yaml
name: Run README examples

on:
  workflow_dispatch:   # lets you trigger it manually in the Actions UI

jobs:
  run-examples:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: r-lib/actions/setup-r@v2
        with:
          r-version: '4.4.1'
      - name: Install dependencies
        run: |
          install.packages(c("devtools","rmarkdown"))
      - name: Install package
        run: devtools::install()
      - name: Render README
        run: Rscript -e 'rmarkdown::render("README.Rmd", output_format="github_document")'
      - name: Test examples
        run: |
          Rscript -e 'library(RBasicPack); print(hello("Test"))'
